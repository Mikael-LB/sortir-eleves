{% extends 'base.html.twig' %}

{% block body %}

    <h2>Consultation des détails de la sortie</h2>
    <div><p id="text-rouge">Nom :</p> {{ sortie.nom }}</div>
    <br>
    <p>Date et heure de sortie: {{ sortie.dateHeureDebut | date('d/m/Y') }}</p>
    <br>
    <p>Date limite d'inscription: {{ sortie.dateLimiteInscription | date('d/m/Y') }}</p>
    <br>
    <p>Nombre maximum d'inscription: {{ sortie.nbInscriptionsMax }}</p>
    <br>
    <p>Duree: {{ sortie.duree }} minutes</p>
    <br>
    <p class ="description-sortie">Description et infos: {{ sortie.infosSortie }}</p>
    <br>
    <p>Campus: {{ sortie.campus.nom }}</p>
    <br>
    <p>lieu: {{ sortie.lieu.nom }}</p>
    <br>
    <p>Rue: {{ sortie.lieu.rue }}</p>
    <br>
    <p>Code postal: {{ sortie.lieu.ville.codePostal }}</p>
    <br>
    <p>Latitude: {{ sortie.lieu.latitude }}</p>
    <br>
    <p>longitude: {{ sortie.lieu.longitude }}</p>
    <br>

    <button class="button-blue"><a href="{{ path('sorties_inscrire', { 'id' : sortie.id }) }}">S'inscrire</a></button>

    {% for inscrit in sortie.assosPartiSort %}
    {% if app.user.id == inscrit.participant.id %}
    {% set isncrit = true %}
        <button class="button-blue"><a href="{{ path('sorties_desister', { 'id' : sortie.id }) }}">Désister</a></button>
    {% endif %}
    {% endfor %}


    <h2>Liste des participants inscrits</h2>

    <div id="tableau-participants">
    <table id="tableau">
        <thead>
        <tr>
            <th>Pseudo</th>
            <th>Nom</th>

        </tr>
        </thead>
        <tbody>
        {% for assosPartiSort in sortie.assosPartiSort %}
            <tr>
                <td><a href="{{ path('participant_afficher', { 'id' : assosPartiSort.participant.id }) }}">{{ assosPartiSort.participant.pseudo }}</a></td>
                <td>{{ assosPartiSort.participant.nom }}</td>
            </tr>

        {% endfor %}

        </tbody>
    </table>
    </div>

{% endblock %}

{% block title %}
    {{ parent() }} | Consulter les détails d'une sortie
{% endblock %}